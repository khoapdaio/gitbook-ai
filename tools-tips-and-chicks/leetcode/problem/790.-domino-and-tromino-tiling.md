# 790. Domino and Tromino Tiling

## **â“ Problem:**&#x20;

[Leetcode 790 - Domino and Tromino Tiling](https://leetcode.com/problems/domino-and-tromino-tiling)

## **ğŸ“ MÃ´ táº£:**

Báº¡n cÃ³ má»™t lÆ°á»›i 2 x `n`. CÃ³ hai loáº¡i miáº¿ng ghÃ©p:

* **Domino** (kÃ­ch thÆ°á»›c 2x1)
* **Tromino** (hÃ¬nh chá»¯ "L", chiáº¿m 3 Ã´)

HÃ£y tÃ¬m sá»‘ cÃ¡ch xáº¿p cÃ¡c miáº¿ng ghÃ©p nÃ y Ä‘á»ƒ **láº¥p Ä‘áº§y hoÃ n toÃ n** lÆ°á»›i 2 x `n`.

Káº¿t quáº£ tráº£ vá» **modulo** `10^9 + 7`.

***

## **ğŸ’¡ VÃ­ dá»¥**

#### **âœ… VÃ­ dá»¥ 1:**

**Input:**

```plaintext
n = 3
```

**Output:**

```plaintext
5
```

**Giáº£i thÃ­ch:**\
CÃ³ 5 cÃ¡ch xáº¿p há»£p lá»‡:

1. Ba miáº¿ng **domino** dá»c.
2. Hai miáº¿ng **domino** ngang, má»™t miáº¿ng **domino** dá»c.
3. Má»™t miáº¿ng **tromino** + má»™t miáº¿ng **domino**.
4. Má»™t miáº¿ng **tromino** khÃ¡c kiá»ƒu + má»™t miáº¿ng **domino**.
5. Má»™t miáº¿ng **tromino** + má»™t miáº¿ng **tromino** ngÆ°á»£c.

#### **âœ… VÃ­ dá»¥ 2:**

**Input:**

```plaintext
n = 1
```

**Output:**

```plaintext
1
```

**Giáº£i thÃ­ch:**

* Chá»‰ cÃ³ má»™t cÃ¡ch lÃ  **Ä‘áº·t má»™t domino dá»c**.

***

## **ğŸš€ Giáº£i phÃ¡p 1: Dynamic Programming (Quy hoáº¡ch Ä‘á»™ng)**

#### **ğŸ”¹Ã tÆ°á»Ÿng:**

* Gá»i `dp[i]` lÃ  sá»‘ cÃ¡ch xáº¿p Ä‘áº§y lÆ°á»›i **2 x i**.
* Ta cÃ³ cÃ´ng thá»©c truy há»“i: dp\[i]=dp\[iâˆ’1]+dp\[iâˆ’2]+2Ã—sum\[iâˆ’3]dp\[i] = dp\[i-1] + dp\[i-2] + 2 \times sum\[i-3]dp\[i]=dp\[iâˆ’1]+dp\[iâˆ’2]+2Ã—sum\[iâˆ’3] Trong Ä‘Ã³ `sum[i]` lÃ  tá»•ng `dp[0]` Ä‘áº¿n `dp[i]`.

***

### **ğŸ“œ Code**

{% tabs %}
{% tab title="C++" %}
```cpp
class Solution {
public:
    int numTilings(int n) {
        if (n == 1) return 1;
        if (n == 2) return 2;
        if (n == 3) return 5;

        const int MOD = 1e9 + 7;
        vector<long long> dp(n + 1, 0);
        dp[1] = 1; dp[2] = 2; dp[3] = 5;

        for (int i = 4; i <= n; ++i) {
            dp[i] = (2 * dp[i - 1] + dp[i - 3]) % MOD;
        }

        return dp[n];
    }
};

```
{% endtab %}

{% tab title="Java" %}
```java
class Solution {
    public int numTilings(int n) {
        if (n == 1) return 1;
        if (n == 2) return 2;
        if (n == 3) return 5;

        final int MOD = 1_000_000_007;
        long[] dp = new long[n + 1];
        dp[1] = 1;
        dp[2] = 2;
        dp[3] = 5;

        for (int i = 4; i <= n; ++i) {
            dp[i] = (2 * dp[i - 1] + dp[i - 3]) % MOD;
        }

        return (int) dp[n];
    }
}

```
{% endtab %}

{% tab title="Python" %}
```python
class Solution:
    def numTilings(self, n: int) -> int:
        if n <= 2:
            return n

        MOD = 10**9 + 7
        dp = [0] * (n + 1)
        dp[0], dp[1], dp[2] = 1, 1, 2

        for i in range(3, n + 1):
            dp[i] = (dp[i - 1] + dp[i - 2] + 2 * dp[i - 3]) % MOD
        
        return dp[n]
```
{% endtab %}
{% endtabs %}

***

## **ğŸš€ Giáº£i phÃ¡p 2: Tá»‘i Æ°u bá»™ nhá»› (O(1) Space)**

#### **ğŸ”¹Ã tÆ°á»Ÿng:**

* **Chá»‰ cáº§n lÆ°u ba giÃ¡ trá»‹ gáº§n nháº¥t** thay vÃ¬ lÆ°u toÃ n bá»™ máº£ng `dp`.
* DÃ¹ng biáº¿n `prev3, prev2, prev1, curr` Ä‘á»ƒ lÆ°u tráº¡ng thÃ¡i.

***

### **ğŸ“œ Code**

{% tabs %}
{% tab title="C++" %}
```cpp
class Solution {
public:
    int numTilings(int n) {
        if (n <= 2) return n;

        int MOD = 1e9 + 7;
        long long prev3 = 1, prev2 = 1, prev1 = 2, curr = 0;

        for (int i = 3; i <= n; i++) {
            curr = (prev1 + prev2 + 2 * prev3) % MOD;
            prev3 = prev2;
            prev2 = prev1;
            prev1 = curr;
        }

        return curr;
    }
};
```
{% endtab %}

{% tab title="Java" %}
```java
class Solution {
    public int numTilings(int n) {
        if (n <= 2) return n;

        int MOD = 1000000007;
        long prev3 = 1, prev2 = 1, prev1 = 2, curr = 0;

        for (int i = 3; i <= n; i++) {
            curr = (prev1 + prev2 + 2 * prev3) % MOD;
            prev3 = prev2;
            prev2 = prev1;
            prev1 = curr;
        }

        return (int) curr;
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
class Solution:
    def numTilings(self, n: int) -> int:
        if n <= 2:
            return n

        MOD = 10**9 + 7
        prev3, prev2, prev1 = 1, 1, 2

        for _ in range(3, n + 1):
            curr = (prev1 + prev2 + 2 * prev3) % MOD
            prev3, prev2, prev1 = prev2, prev1, curr
        
        return prev1
```
{% endtab %}
{% endtabs %}

***

## **ğŸ¯ Äiá»ƒm chÃ­nh**

âœ” **DÃ¹ng quy hoáº¡ch Ä‘á»™ng Ä‘á»ƒ tá»‘i Æ°u sá»‘ cÃ¡ch xáº¿p**.\
âœ” **Tá»‘i Æ°u bá»™ nhá»› báº±ng cÃ¡ch chá»‰ giá»¯ 3 giÃ¡ trá»‹ gáº§n nháº¥t**.\
âœ” **Sá»­ dá»¥ng `modulo 10^9 + 7` Ä‘á»ƒ trÃ¡nh sá»‘ quÃ¡ lá»›n**.

***

## **â³ Äá»™ phá»©c táº¡p thuáº­t toÃ¡n**

| PhÆ°Æ¡ng phÃ¡p               | Äá»™ phá»©c táº¡p | Bá»™ nhá»› |
| ------------------------- | ----------- | ------ |
| **DP (`O(n) Space`)**     | `O(n)`      | `O(n)` |
| **Tá»‘i Æ°u (`O(1) Space`)** | `O(n)`      | `O(1)` |

***

## **ğŸ“Œ Tá»•ng káº¿t**

ğŸ”¹ ÄÃ¢y lÃ  bÃ i toÃ¡n **quy hoáº¡ch Ä‘á»™ng nÃ¢ng cao**.\
ğŸ”¹ **Giáº£i phÃ¡p `O(1) Space`** giÃºp tiáº¿t kiá»‡m bá»™ nhá»›.\
ğŸ”¹ Ãp dá»¥ng cho cÃ¡c bÃ i toÃ¡n **xáº¿p hÃ¬nh, Fibonacci má»Ÿ rá»™ng** ğŸš€
