# 1004. Max Consecutive Ones III

## Problem

[https://leetcode.com/problems/max-consecutive-ones-iii](https://leetcode.com/problems/max-consecutive-ones-iii)

## **üìå M√¥ t·∫£**

Cho m·ªôt m·∫£ng nh·ªã ph√¢n `nums[]` (ch·ªâ ch·ª©a `0` v√† `1`) v√† m·ªôt s·ªë nguy√™n `k`. B·∫°n c√≥ th·ªÉ **ƒë·∫£o ng∆∞·ª£c t·ªëi ƒëa `k` s·ªë `0` th√†nh `1`**.

H√£y t√¨m **ƒë·ªô d√†i d√†i nh·∫•t c·ªßa d√£y con ch·ªâ ch·ª©a to√†n `1`** sau khi th·ª±c hi·ªán t·ªëi ƒëa `k` l·∫ßn ƒë·∫£o ng∆∞·ª£c.

***

## **üí° V√≠ d·ª•**

**‚úÖ V√≠ d·ª• 1**

```
Input: nums = [1,1,1,0,0,0,1,1,1,1,0], k = 2
Output: 6
```

**Gi·∫£i th√≠ch:**

* Sau khi **ƒë·∫£o ng∆∞·ª£c 2 s·ªë `0`**, ta c√≥ d√£y con d√†i nh·∫•t `[1,1,1,0,0,1,1,1,1,1]` (ƒë·ªô d√†i `6`).

**‚úÖ V√≠ d·ª• 2**

```
Input: nums = [0,0,1,1,0,1,1,1,0,1,1,1,0,1,1,1], k = 3
Output: 10
```

**Gi·∫£i th√≠ch:**

* ƒê·∫£o `3` s·ªë `0` th√†nh `1`, ta c√≥ d√£y con d√†i nh·∫•t c√≥ `10` s·ªë `1`.

***

## **üöÄ Gi·∫£i ph√°p: Sliding Window (`O(n)`)**

üìå **√ù t∆∞·ªüng:**

* **D√πng Sliding Window** ƒë·ªÉ t√¨m d√£y con c√≥ nhi·ªÅu `1` nh·∫•t sau khi chuy·ªÉn ƒë·ªïi t·ªëi ƒëa `k` s·ªë `0`.
* **C·ª≠a s·ªï `[left, right]`** m·ªü r·ªông khi g·∫∑p `1`, v√† ch·ªâ thu h·∫πp n·∫øu s·ªë `0` v∆∞·ª£t qu√° `k`.

üîπ **B∆∞·ªõc th·ª±c hi·ªán:**

1. Duy·ªát `right` t·ª´ `0` ƒë·∫øn `n-1`.
2. N·∫øu g·∫∑p `0`, tƒÉng `zeroCount`.
3. N·∫øu `zeroCount > k`, thu h·∫πp c·ª≠a s·ªï b·∫±ng c√°ch **d·ªãch `left`** ƒë·ªÉ gi·∫£m s·ªë `0`.
4. Lu√¥n c·∫≠p nh·∫≠t `maxLen = right - left + 1`.

***

## **üìú Code Sliding Window**

{% tabs %}
{% tab title="C++" %}
```cpp
class Solution {
public:
    int longestOnes(vector<int>& nums, int k) {
        int left = 0, maxLen = 0, zeroCount = 0;

        for (int right = 0; right < nums.size(); right++) {
            if (nums[right] == 0) zeroCount++;

            while (zeroCount > k) {
                if (nums[left] == 0) zeroCount--;
                left++;
            }

            maxLen = max(maxLen, right - left + 1);
        }

        return maxLen;
    }
};
```
{% endtab %}

{% tab title="Java" %}
```java
class Solution {
    public int longestOnes(int[] nums, int k) {
        int left = 0, maxLen = 0, zeroCount = 0;

        for (int right = 0; right < nums.length; right++) {
            if (nums[right] == 0) zeroCount++;

            while (zeroCount > k) {
                if (nums[left] == 0) zeroCount--;
                left++;
            }

            maxLen = Math.max(maxLen, right - left + 1);
        }

        return maxLen;
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
class Solution:
    def longestOnes(self, nums: List[int], k: int) -> int:
        left = maxLen = zeroCount = 0

        for right in range(len(nums)):
            if nums[right] == 0:
                zeroCount += 1

            while zeroCount > k:
                if nums[left] == 0:
                    zeroCount -= 1
                left += 1

            maxLen = max(maxLen, right - left + 1)

        return maxLen
```
{% endtab %}
{% endtabs %}

***

## **‚è≥ ƒê·ªô ph·ª©c t·∫°p thu·∫≠t to√°n**

| Ph∆∞∆°ng ph√°p        | Th·ªùi gian | Kh√¥ng gian |
| ------------------ | --------- | ---------- |
| **Sliding Window** | `O(n)`    | `O(1)`     |

‚úÖ **M·ªói ph·∫ßn t·ª≠ ƒë∆∞·ª£c duy·ªát t·ªëi ƒëa 2 l·∫ßn** (m·ªôt l·∫ßn m·ªü r·ªông `right`, m·ªôt l·∫ßn thu h·∫πp `left`).\
‚úÖ **Kh√¥ng s·ª≠ d·ª•ng th√™m b·ªô nh·ªõ ph·ª• (`O(1)`)**.

***

## **üìå T·ªïng k·∫øt**

‚úî **Sliding Window gi√∫p m·ªü r·ªông d√£y con hi·ªáu qu·∫£**.\
‚úî **Ch·ªâ c·∫ßn duy·ªát m·∫£ng m·ªôt l·∫ßn (`O(n)`)** thay v√¨ ki·ªÉm tra t·ª´ng ƒëo·∫°n (`O(n¬≤)`).\
‚úî **D·ªÖ hi·ªÉu, d·ªÖ c√†i ƒë·∫∑t, kh√¥ng c·∫ßn d√πng b·ªô nh·ªõ ph·ª•**.
