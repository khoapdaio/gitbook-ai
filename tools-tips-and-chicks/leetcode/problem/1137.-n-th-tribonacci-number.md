# 1137. N-th Tribonacci Number

## **â“ Problem:**

ğŸ”—[ LeetCode 1137 - N-th Tribonacci Number](https://leetcode.com/problems/n-th-tribonacci-number)

***

## **ğŸ“ MÃ´ táº£:**

DÃ£y **Tribonacci** Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a nhÆ° sau:

* `T0 = 0`, `T1 = 1`, `T2 = 1`
* `Tn = T(n-1) + T(n-2) + T(n-3)`, vá»›i `n >= 3`.

Cho sá»‘ nguyÃªn `n`, hÃ£y tráº£ vá» **sá»‘ Tribonacci thá»© `n`**.

***

## **ğŸ’¡ VÃ­ dá»¥**

#### âœ… **VÃ­ dá»¥ 1:**

**Input:**

```cpp
n = 4
```

**Output:**

```cpp
4
```

**Giáº£i thÃ­ch:**

```
T0 = 0, T1 = 1, T2 = 1, T3 = 2, T4 = 4
```

***

#### âœ… **VÃ­ dá»¥ 2:**

**Input:**

```cpp
n = 25
```

**Output:**

```cpp
1389537
```

**Giáº£i thÃ­ch:**

* `T25 = 1389537` theo cÃ´ng thá»©c Ä‘á»‡ quy Ä‘Ã£ cho.

***

## **ğŸš€ Giáº£i phÃ¡p 1: Äá»‡ quy (Recursion)**&#x20;

* CÃ i Ä‘áº·t trá»±c tiáº¿p theo cÃ´ng thá»©c `T(n) = T(n-1) + T(n-2) + T(n-3)`.
* **NhÆ°á»£c Ä‘iá»ƒm:** Láº·p láº¡i phÃ©p tÃ­nh nhiá»u láº§n, Ä‘á»™ phá»©c táº¡p **O(3^n)** (ráº¥t cháº­m vá»›i `n` lá»›n).

### **ğŸ“œ Code**&#x20;

{% tabs %}
{% tab title="C++" %}
```cpp
class Solution {
public:
    int tribonacci(int n) {
        if (n == 0) return 0;
        if (n == 1 || n == 2) return 1;
        return tribonacci(n - 1) + tribonacci(n - 2) + tribonacci(n - 3);
    }
};
```
{% endtab %}

{% tab title="Java" %}
```java
class Solution {
    public int tribonacci(int n) {
        if (n == 0) return 0;
        if (n == 1 || n == 2) return 1;
        return tribonacci(n - 1) + tribonacci(n - 2) + tribonacci(n - 3);
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
class Solution:
    def tribonacci(self, n: int) -> int:
        if n == 0: return 0
        if n == 1 or n == 2: return 1
        return self.tribonacci(n - 1) + self.tribonacci(n - 2) + self.tribonacci(n - 3)
```
{% endtab %}
{% endtabs %}

***

## **ğŸš€ Giáº£i phÃ¡p 2: Memoization (Top-down DP)**&#x20;

* DÃ¹ng **máº£ng lÆ°u trá»¯ káº¿t quáº£ tÃ­nh trÆ°á»›c** (`dp[n]`) Ä‘á»ƒ trÃ¡nh tÃ­nh toÃ¡n láº¡i.
* **Äá»™ phá»©c táº¡p:** **O(n)**, do má»—i `n` chá»‰ tÃ­nh má»™t láº§n.

### **ğŸ“œ Code**

{% tabs %}
{% tab title="C++" %}
```cpp
class Solution {
public:
    int tribonacci(int n) {
        vector<int> dp(n + 1, -1);
        return helper(n, dp);
    }
    
    int helper(int n, vector<int>& dp) {
        if (n == 0) return 0;
        if (n == 1 || n == 2) return 1;
        if (dp[n] != -1) return dp[n];
        return dp[n] = helper(n - 1, dp) + helper(n - 2, dp) + helper(n - 3, dp);
    }
};
```
{% endtab %}

{% tab title="Java" %}
```java
import java.util.Arrays;

class Solution {
    public int tribonacci(int n) {
        int[] dp = new int[n + 1];
        Arrays.fill(dp, -1);
        return helper(n, dp);
    }

    private int helper(int n, int[] dp) {
        if (n == 0) return 0;
        if (n == 1 || n == 2) return 1;
        if (dp[n] != -1) return dp[n];
        return dp[n] = helper(n - 1, dp) + helper(n - 2, dp) + helper(n - 3, dp);
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
class Solution:
    def tribonacci(self, n: int) -> int:
        dp = [-1] * (n + 1)
        
        def helper(n):
            if n == 0: return 0
            if n == 1 or n == 2: return 1
            if dp[n] != -1:
                return dp[n]
            dp[n] = helper(n - 1) + helper(n - 2) + helper(n - 3)
            return dp[n]
        
        return helper(n)
```
{% endtab %}
{% endtabs %}

***

## **ğŸš€ Giáº£i phÃ¡p 3: Dynamic Programming (Bottom-up DP)**

* **KhÃ´ng dÃ¹ng Ä‘á»‡ quy, chá»‰ cáº§n máº£ng lÆ°u káº¿t quáº£.**
* **Äá»™ phá»©c táº¡p:** **O(n)**

### **ğŸ“œ Code**

{% tabs %}
{% tab title="C++" %}
```cpp
class Solution {
public:
    int tribonacci(int n) {
        if (n == 0) return 0;
        if (n == 1 || n == 2) return 1;

        vector<int> dp(n + 1);
        dp[0] = 0, dp[1] = 1, dp[2] = 1;
        
        for (int i = 3; i <= n; i++)
            dp[i] = dp[i - 1] + dp[i - 2] + dp[i - 3];

        return dp[n];
    }
};
```


{% endtab %}

{% tab title="Java" %}
```java
class Solution {
    public int tribonacci(int n) {
        if (n == 0) return 0;
        if (n == 1 || n == 2) return 1;

        int[] dp = new int[n + 1];
        dp[0] = 0; dp[1] = 1; dp[2] = 1;

        for (int i = 3; i <= n; i++)
            dp[i] = dp[i - 1] + dp[i - 2] + dp[i - 3];

        return dp[n];
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
class Solution:
    def tribonacci(self, n: int) -> int:
        if n == 0: return 0
        if n == 1 or n == 2: return 1
        
        dp = [0] * (n + 1)
        dp[0], dp[1], dp[2] = 0, 1, 1
        
        for i in range(3, n + 1):
            dp[i] = dp[i - 1] + dp[i - 2] + dp[i - 3]
        
        return dp[n]
```
{% endtab %}
{% endtabs %}

***

## **ğŸš€ Giáº£i phÃ¡p 4: Tá»‘i Æ°u bá»™ nhá»› (O(1) Space)**

#### **ğŸ”¹Ã tÆ°á»Ÿng:**

* VÃ¬ ta **chá»‰ cáº§n 3 giÃ¡ trá»‹ trÆ°á»›c Ä‘Ã³** (`T(n-1)`, `T(n-2)`, `T(n-3)`) Ä‘á»ƒ tÃ­nh `T(n)`, nÃªn **khÃ´ng cáº§n lÆ°u toÃ n bá»™ dÃ£y**.
* DÃ¹ng **ba biáº¿n** Ä‘á»ƒ lÆ°u ba giÃ¡ trá»‹ gáº§n nháº¥t, thay vÃ¬ máº£ng `dp[]`.
* **Tiáº¿t kiá»‡m bá»™ nhá»› tá»« `O(n)` xuá»‘ng `O(1)`.**

***

### **ğŸ“œ Code**

{% tabs %}
{% tab title="C++" %}
```cpp
class Solution {
public:
    int tribonacci(int n) {
        if (n == 0) return 0;
        if (n == 1 || n == 2) return 1;

        int a = 0, b = 1, c = 1;
        for (int i = 3; i <= n; i++) {
            int next = a + b + c;
            a = b;
            b = c;
            c = next;
        }
        return c;
    }
};
```


{% endtab %}

{% tab title="Java" %}
```java
class Solution {
    public int tribonacci(int n) {
        if (n == 0) return 0;
        if (n == 1 || n == 2) return 1;

        int a = 0, b = 1, c = 1;
        for (int i = 3; i <= n; i++) {
            int next = a + b + c;
            a = b;
            b = c;
            c = next;
        }
        return c;
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
pclass Solution:
    def tribonacci(self, n: int) -> int:
        if n == 0: return 0
        if n == 1 or n == 2: return 1

        a, b, c = 0, 1, 1
        for _ in range(3, n + 1):
            a, b, c = b, c, a + b + c
        
        return c
```
{% endtab %}
{% endtabs %}

***

## **ğŸ¯ Äiá»ƒm chÃ­nh**

âœ” **Äá»‡ quy cÆ¡ báº£n (`O(3^n)`)** -> Ráº¥t cháº­m, khÃ´ng dÃ¹ng khi `n` lá»›n.\
âœ” **Memoization (`O(n)`)** -> DÃ¹ng bá»™ nhá»› Ä‘á»‡m Ä‘á»ƒ tá»‘i Æ°u Ä‘á»‡ quy.\
âœ” **DP Bottom-up (`O(n)`)** -> KhÃ´ng dÃ¹ng Ä‘á»‡ quy, dÃ¹ng máº£ng lÆ°u káº¿t quáº£.\
âœ” **Tá»‘i Æ°u bá»™ nhá»› (`O(n) -> O(1)`)** -> Chá»‰ lÆ°u 3 giÃ¡ trá»‹ gáº§n nháº¥t, nhanh & tiáº¿t kiá»‡m bá»™ nhá»›.

***

## **â³ Äá»™ phá»©c táº¡p thuáº­t toÃ¡n**

| PhÆ°Æ¡ng phÃ¡p                   | Äá»™ phá»©c táº¡p | Bá»™ nhá»›         |
| ----------------------------- | ----------- | -------------- |
| **Äá»‡ quy (Recursion)**        | `O(3^n)`    | `O(n)` (stack) |
| **Memoization (Top-down DP)** | `O(n)`      | `O(n)`         |
| **Bottom-up DP**              | `O(n)`      | `O(n)`         |
| **Space Optimized DP**        | `O(n)`      | `O(1)`         |

ğŸ“Œ **Lá»±a chá»n tá»‘i Æ°u nháº¥t:** **"Space Optimized DP (O(1))"**, vá»«a nhanh vá»«a tiáº¿t kiá»‡m bá»™ nhá»›.

***

## **ğŸ“Œ Tá»•ng káº¿t**

* âœ… **DÃ¹ng Ä‘á»‡ quy khi `n` nhá», nhÆ°ng khÃ´ng tá»‘i Æ°u.**
* âœ… **DÃ¹ng DP Ä‘á»ƒ tá»‘i Æ°u thá»i gian.**
* âœ… **Tá»‘i Æ°u bá»™ nhá»› báº±ng cÃ¡ch chá»‰ lÆ°u 3 sá»‘ gáº§n nháº¥t.**
* âœ… **Äá»™ phá»©c táº¡p `O(n)`, nhÆ°ng bá»™ nhá»› cÃ³ thá»ƒ giáº£m tá»« `O(n) â†’ O(1)`.**
