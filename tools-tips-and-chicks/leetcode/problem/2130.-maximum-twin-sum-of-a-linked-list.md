# 2130. Maximum Twin Sum of a Linked List

## Problem

[https://leetcode.com/problems/maximum-twin-sum-of-a-linked-list](https://leetcode.com/problems/maximum-twin-sum-of-a-linked-list)

***

## **ğŸ“Œ MÃ´ táº£ bÃ i toÃ¡n**

Cho má»™t danh sÃ¡ch liÃªn káº¿t Ä‘Æ¡n cÃ³ **sá»‘ lÆ°á»£ng node cháºµn**.

* CÃ¡c cáº·p "twin" (`twin pairs`) Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a lÃ  cÃ¡c pháº§n tá»­ **Ä‘á»‘i xá»©ng tá»« hai Ä‘áº§u danh sÃ¡ch**.
* GiÃ¡ trá»‹ cá»§a má»™t cáº·p twin lÃ  tá»•ng cá»§a hai pháº§n tá»­ Ä‘á»‘i xá»©ng.
* **YÃªu cáº§u:** TÃ¬m tá»•ng lá»›n nháº¥t cá»§a má»™t cáº·p twin.

ğŸ“Œ **RÃ ng buá»™c:**

* `n` **lÃ  sá»‘ cháºµn**, `2 <= n <= 10^5`.
* `0 <= Node.val <= 10000`.

***

## **ğŸ’¡ VÃ­ dá»¥**

#### âœ… **VÃ­ dá»¥ 1**

```
Input: head = [5,4,2,1]
Output: 6
```

**Giáº£i thÃ­ch:**\
Danh sÃ¡ch cÃ³ `n = 4`, cáº·p twin lÃ :

* `(5,1) â†’ sum = 5 + 1 = 6`
* `(4,2) â†’ sum = 4 + 2 = 6`\
  â†’ **Káº¿t quáº£:** `max(6,6) = 6`.

***

#### âœ… **VÃ­ dá»¥ 2**

```
Input: head = [4,2,2,3]
Output: 7
```

**Giáº£i thÃ­ch:**\
Cáº·p twin:

* `(4,3) â†’ sum = 4 + 3 = 7`
* `(2,2) â†’ sum = 2 + 2 = 4`\
  â†’ **Káº¿t quáº£:** `max(7,4) = 7`.

***

#### âœ… **VÃ­ dá»¥ 3**

```
Input: head = [1,100000]
Output: 100001
```

**Giáº£i thÃ­ch:**\
Chá»‰ cÃ³ 1 cáº·p twin `(1,100000)`, tá»•ng = `100001`.

***

## **ğŸš€ Giáº£i phÃ¡p 1: DÃ¹ng máº£ng + hai con trá» (`O(n)`)**

#### ğŸ“Œ **Ã tÆ°á»Ÿng chÃ­nh:**

1. **LÆ°u táº¥t cáº£ giÃ¡ trá»‹ node vÃ o máº£ng**.
2. **DÃ¹ng hai con trá» (`i = 0, j = n-1`) Ä‘á»ƒ tÃ­nh tá»•ng twin**.
3. **Láº¥y giÃ¡ trá»‹ lá»›n nháº¥t**.

âœ… **Äá»™ phá»©c táº¡p:** `O(n)`, do chá»‰ duyá»‡t 1 láº§n.\
âœ… **Dá»… cÃ i Ä‘áº·t vÃ  khÃ´ng thay Ä‘á»•i cáº¥u trÃºc danh sÃ¡ch**.

***

## **ğŸ“œ Code**

{% tabs %}
{% tab title="C++" %}
```cpp
class Solution {
public:
    int pairSum(ListNode* head) {
        vector<int> values;
        while (head) {
            values.push_back(head->val);
            head = head->next;
        }

        int maxSum = 0, n = values.size();
        for (int i = 0; i < n / 2; i++) {
            maxSum = max(maxSum, values[i] + values[n - 1 - i]);
        }
        return maxSum;
    }
};
```
{% endtab %}

{% tab title="Java" %}
```java
class Solution {
    public int pairSum(ListNode head) {
        List<Integer> values = new ArrayList<>();
        while (head != null) {
            values.add(head.val);
            head = head.next;
        }

        int maxSum = 0;
        int n = values.size();
        for (int i = 0; i < n / 2; i++) {
            maxSum = Math.max(maxSum, values.get(i) + values.get(n - 1 - i));
        }
        return maxSum;
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
class Solution:
    def pairSum(self, head: ListNode) -> int:
        values = []
        while head:
            values.append(head.val)
            head = head.next
        
        return max(values[i] + values[-i-1] for i in range(len(values) // 2))
```
{% endtab %}
{% endtabs %}

***

## **ğŸš€ Giáº£i phÃ¡p 2: TÃ¬m giá»¯a + Äáº£o ngÆ°á»£c + Duyá»‡t (`O(n)`)**

#### ğŸ“Œ **Ã tÆ°á»Ÿng chÃ­nh:**

1. **TÃ¬m giá»¯a danh sÃ¡ch** (dÃ¹ng slow/fast pointer).
2. **Äáº£o ngÆ°á»£c ná»­a sau danh sÃ¡ch**.
3. **Duyá»‡t song song hai danh sÃ¡ch Ä‘á»ƒ tÃ­nh max twin sum**.

âœ… **KhÃ´ng dÃ¹ng thÃªm bá»™ nhá»› (`O(1)`)**.\
âœ… **Váº«n chá»‰ máº¥t `O(n)`, tá»‘i Æ°u hÆ¡n cÃ¡ch 1**.

***

## **ğŸ“œ Code**

{% tabs %}
{% tab title="C++" %}
```cpp
class Solution {
public:
    int pairSum(ListNode* head) {
        ListNode* slow = head, *fast = head;

        // 1. TÃ¬m giá»¯a danh sÃ¡ch
        while (fast && fast->next) {
            slow = slow->next;
            fast = fast->next->next;
        }

        // 2. Äáº£o ngÆ°á»£c ná»­a sau danh sÃ¡ch
        ListNode* prev = nullptr;
        while (slow) {
            ListNode* next = slow->next;
            slow->next = prev;
            prev = slow;
            slow = next;
        }

        // 3. Duyá»‡t song song hai danh sÃ¡ch
        int maxSum = 0;
        while (prev) {
            maxSum = max(maxSum, head->val + prev->val);
            head = head->next;
            prev = prev->next;
        }
        return maxSum;
    }
};
```
{% endtab %}

{% tab title="Java" %}
```java
class Solution {
    public int pairSum(ListNode head) {
        ListNode slow = head, fast = head;
        
        // 1. TÃ¬m giá»¯a danh sÃ¡ch
        while (fast != null && fast.next != null) {
            slow = slow.next;
            fast = fast.next.next;
        }

        // 2. Äáº£o ngÆ°á»£c ná»­a sau danh sÃ¡ch
        ListNode prev = null, curr = slow;
        while (curr != null) {
            ListNode next = curr.next;
            curr.next = prev;
            prev = curr;
            curr = next;
        }

        // 3. Duyá»‡t song song hai danh sÃ¡ch Ä‘á»ƒ tÃ­nh max twin sum
        int maxSum = 0;
        ListNode first = head, second = prev;
        while (second != null) {
            maxSum = Math.max(maxSum, first.val + second.val);
            first = first.next;
            second = second.next;
        }

        return maxSum;
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
class Solution:
    def pairSum(self, head: ListNode) -> int:
        slow, fast = head, head
        
        # 1. TÃ¬m giá»¯a danh sÃ¡ch
        while fast and fast.next:
            slow = slow.next
            fast = fast.next.next

        # 2. Äáº£o ngÆ°á»£c ná»­a sau danh sÃ¡ch
        prev = None
        while slow:
            slow.next, prev, slow = prev, slow, slow.next

        # 3. Duyá»‡t song song
        maxSum = 0
        while prev:
            maxSum = max(maxSum, head.val + prev.val)
            head, prev = head.next, prev.next
        
        return maxSum
```
{% endtab %}
{% endtabs %}

***

## **â³ Äá»™ phá»©c táº¡p thuáº­t toÃ¡n**

| PhÆ°Æ¡ng phÃ¡p              | Thá»i gian | KhÃ´ng gian |
| ------------------------ | --------- | ---------- |
| **DÃ¹ng máº£ng (`O(n)`)**   | `O(n)`    | `O(n)`     |
| **Äáº£o ná»­a sau (`O(n)`)** | `O(n)`    | `O(1)`     |

âœ… **DÃ¹ng cÃ¡ch thá»© 2 (Ä‘áº£o ngÆ°á»£c ná»­a sau) tá»‘i Æ°u hÆ¡n vÃ¬ khÃ´ng tá»‘n thÃªm bá»™ nhá»› (`O(1)`)**.

***

## **ğŸ“Œ Tá»•ng káº¿t**

âœ” **DÃ¹ng máº£ng dá»… cÃ i nhÆ°ng tá»‘n bá»™ nhá»› (`O(n)`)**.\
âœ” **DÃ¹ng slow/fast pointer vÃ  Ä‘áº£o ná»­a sau tá»‘i Æ°u hÆ¡n (`O(1)`)**.\
âœ” **á»¨ng dá»¥ng há»¯u Ã­ch trong danh sÃ¡ch liÃªn káº¿t! ğŸš€**
