# 1524. Number of Sub-arrays With Odd Sum

## **â“ Problem:**

ğŸ”— [1524. Number of Sub-arrays With Odd Sum](https://leetcode.com/problems/number-of-sub-arrays-with-odd-sum)

## **ğŸ“ MÃ´ táº£:**

Cho má»™t máº£ng sá»‘ nguyÃªn `arr`, hÃ£y tÃ¬m sá»‘ lÆ°á»£ng **dÃ£y con (sub-array)** cÃ³ tá»•ng lÃ  sá»‘ láº».

Do káº¿t quáº£ cÃ³ thá»ƒ ráº¥t lá»›n, **hÃ£y tráº£ vá» sá»‘ dÆ° cá»§a káº¿t quáº£ khi chia cho 10â¹ + 7**.

***

## **ğŸ’¡ VÃ­ dá»¥:**

#### **âœ… VÃ­ dá»¥ 1:**

**Input:**

```
arr = [1,3,5]
```

**Output:**

```
4
```

**Giáº£i thÃ­ch:**\
CÃ¡c dÃ£y con cÃ³ tá»•ng láº»: `[1]`, `[3]`, `[5]`, `[1,3,5]`

***

#### **âœ… VÃ­ dá»¥ 2:**

**Input:**

```
arr = [2,4,6]
```

**Output:**

```
0
```

**Giáº£i thÃ­ch:**\
KhÃ´ng cÃ³ dÃ£y con nÃ o cÃ³ tá»•ng láº».

***

#### **âœ… VÃ­ dá»¥ 3:**

**Input:**

```
arr = [1,2,3,4,5,6,7]
```

**Output:**

```
16
```

***

## **ğŸš€ Giáº£i phÃ¡p**

#### **ğŸ”¹ CÃ¡ch tiáº¿p cáº­n:**

1. **TÃ­nh tá»•ng dÃ£y con má»™t cÃ¡ch hiá»‡u quáº£:**
   * Thay vÃ¬ duyá»‡t táº¥t cáº£ dÃ£y con (`O(NÂ²)`) ta dÃ¹ng ká»¹ thuáº­t **Ä‘áº¿m sá»‘ lÆ°á»£ng tá»•ng cháºµn vÃ  láº» tÃ­ch lÅ©y**.
2. **Quan sÃ¡t tÃ­nh cháº¥t sá»‘ cháºµn vÃ  láº»:**
   * Náº¿u tá»•ng hiá»‡n táº¡i lÃ  **láº»**, ta Ä‘áº¿m sá»‘ láº§n cÃ³ tá»•ng cháºµn trÆ°á»›c Ä‘Ã³ (vÃ¬ `odd = even + odd`).
   * Náº¿u tá»•ng hiá»‡n táº¡i lÃ  **cháºµn**, ta Ä‘áº¿m sá»‘ láº§n cÃ³ tá»•ng láº» trÆ°á»›c Ä‘Ã³ (vÃ¬ `even = even + even`).
3. **Sá»­ dá»¥ng 2 biáº¿n:**
   * `odd_count`: sá»‘ lÆ°á»£ng tá»•ng láº» trÆ°á»›c Ä‘Ã³
   * `even_count`: sá»‘ lÆ°á»£ng tá»•ng cháºµn trÆ°á»›c Ä‘Ã³
4. **Cáº­p nháº­t tá»•ng sá»‘ dÃ£y con:**
   * Náº¿u tá»•ng hiá»‡n táº¡i lÃ  láº» â†’ ThÃªm vÃ o káº¿t quáº£ sá»‘ dÃ£y con cÃ³ tá»•ng láº» trÆ°á»›c Ä‘Ã³ + chÃ­nh nÃ³.
   * Náº¿u tá»•ng hiá»‡n táº¡i lÃ  cháºµn â†’ ThÃªm vÃ o káº¿t quáº£ sá»‘ dÃ£y con cÃ³ tá»•ng cháºµn trÆ°á»›c Ä‘Ã³.

***

## **ğŸ“œ Code**

{% tabs %}
{% tab title="C++" %}
```cpp
class Solution {
public:
    int numOfSubarrays(vector<int>& arr) {
        const int MOD = 1'000'000'007;
        int odd_count = 0, even_count = 1, sum = 0, result = 0;

        for (int num : arr) {
            sum += num;
            if (sum % 2 == 0) {
                result = (result + odd_count) % MOD;
                even_count++;
            } else {
                result = (result + even_count) % MOD;
                odd_count++;
            }
        }
        return result;
    }
};
```
{% endtab %}

{% tab title="Java" %}
```java
class Solution {
    public int numOfSubarrays(int[] arr) {
        final int MOD = 1_000_000_007;
        int odd_count = 0, even_count = 1, sum = 0, result = 0;

        for (int num : arr) {
            sum += num;
            if (sum % 2 == 0) {
                result = (result + odd_count) % MOD;
                even_count++;
            } else {
                result = (result + even_count) % MOD;
                odd_count++;
            }
        }
        return result;
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
class Solution:
    def numOfSubarrays(self, arr: List[int]) -> int:
        MOD = 10**9 + 7
        odd_count, even_count = 0, 1
        result, total_sum = 0, 0

        for num in arr:
            total_sum += num
            if total_sum % 2 == 0:
                result = (result + odd_count) % MOD
                even_count += 1
            else:
                result = (result + even_count) % MOD
                odd_count += 1

        return result
```
{% endtab %}
{% endtabs %}

***

## **ğŸ¯ Äiá»ƒm chÃ­nh**

âœ… **Sá»­ dá»¥ng quy táº¯c tÃ­nh tá»•ng dÃ£y con mÃ  khÃ´ng cáº§n duyá»‡t tá»«ng dÃ£y con.**\
âœ… **Chia trÆ°á»ng há»£p tá»•ng hiá»‡n táº¡i lÃ  cháºµn hay láº» Ä‘á»ƒ Ä‘áº¿m sá»‘ lÆ°á»£ng dÃ£y con há»£p lá»‡.**\
âœ… **DÃ¹ng biáº¿n `odd_count` vÃ  `even_count` giÃºp tá»‘i Æ°u thay vÃ¬ tÃ­nh láº¡i tá»•ng liÃªn tá»¥c.**

***

## **â³ Äá»™ phá»©c táº¡p thuáº­t toÃ¡n**

* **Thá»i gian:** `O(N)`, vÃ¬ ta duyá»‡t máº£ng `arr` má»™t láº§n.
* **KhÃ´ng gian:** `O(1)`, chá»‰ dÃ¹ng má»™t vÃ i biáº¿n Ä‘áº¿m.

***

## **ğŸ“Œ Tá»•ng káº¿t**

* Sá»­ dá»¥ng **cá»™ng dá»“n vÃ  Ä‘áº¿m sá»‘ lÆ°á»£ng tá»•ng cháºµn/láº»** giÃºp tá»‘i Æ°u thuáº­t toÃ¡n vá» `O(N)`.
* Code Ä‘Æ¡n giáº£n nhÆ°ng hiá»‡u quáº£, trÃ¡nh duyá»‡t toÃ n bá»™ dÃ£y con.
* Ãp dá»¥ng dá»… dÃ ng cho cÃ¡c bÃ i toÃ¡n tÆ°Æ¡ng tá»± nhÆ° **Ä‘áº¿m sá»‘ dÃ£y con cÃ³ tá»•ng chia háº¿t cho K**. ğŸš€
