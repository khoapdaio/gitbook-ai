# 933. Number of Recent Calls

## â“ Problem

[https://leetcode.com/problems/number-of-recent-calls](https://leetcode.com/problems/number-of-recent-calls)

## **ğŸ“Œ MÃ´ táº£ bÃ i toÃ¡n**

Thiáº¿t káº¿ má»™t **hÃ ng Ä‘á»£i** (queue) Ä‘á»ƒ theo dÃµi sá»‘ láº§n gá»i trong vÃ²ng **3000 mili-giÃ¢y** gáº§n nháº¥t.

ğŸ“Œ **Cá»¥ thá»ƒ:**

* Báº¡n cáº§n cÃ i Ä‘áº·t class `RecentCounter` vá»›i phÆ°Æ¡ng thá»©c `ping(int t)`:
  * Khi `ping(t)` Ä‘Æ°á»£c gá»i, tráº£ vá» **sá»‘ lÆ°á»£ng yÃªu cáº§u** trong pháº¡m vi `[t - 3000, t]`.
  * `t` Ä‘áº£m báº£o **tÄƒng dáº§n theo thá»i gian**.
  * `1 <= t <= 10^9`.
  * Tá»•ng sá»‘ láº§n gá»i `ping` tá»‘i Ä‘a **10^4** láº§n.

***

## **ğŸ’¡ VÃ­ dá»¥**

#### âœ… **VÃ­ dá»¥ 1**

```
Input:
["RecentCounter", "ping", "ping", "ping", "ping"]
[[], [1], [100], [3001], [3002]]

Output:
[null, 1, 2, 3, 3]
```

**Giáº£i thÃ­ch:**

* `ping(1)` â†’ `1` (chá»‰ cÃ³ `1`).
* `ping(100)` â†’ `2` (cÃ¡c request: `[1, 100]`).
* `ping(3001)` â†’ `3` (cÃ¡c request: `[1, 100, 3001]`).
* `ping(3002)` â†’ `3` (cÃ¡c request: `[100, 3001, 3002]`).

***

## **ğŸš€ Giáº£i phÃ¡p: DÃ¹ng Queue (`O(1)`)**

#### ğŸ“Œ **Ã tÆ°á»Ÿng chÃ­nh:**

* **DÃ¹ng má»™t hÃ ng Ä‘á»£i (queue) Ä‘á»ƒ lÆ°u cÃ¡c request**.
* Khi gá»i `ping(t)`:
  1. **ThÃªm `t` vÃ o queue**.
  2. **XÃ³a cÃ¡c request cÅ© hÆ¡n `t - 3000`**.
  3. **Tráº£ vá» kÃ­ch thÆ°á»›c queue (sá»‘ lÆ°á»£ng request há»£p lá»‡)**.

âœ… **Queue giÃºp loáº¡i bá» cÃ¡c pháº§n tá»­ cÅ© trong `O(1)`, nÃªn thuáº­t toÃ¡n tá»‘i Æ°u!**

***

## **ğŸ“œ Code**

{% tabs %}
{% tab title="C++" %}
```cpp
class RecentCounter {
private:
    queue<int> q;

public:
    RecentCounter() {}

    int ping(int t) {
        q.push(t);
        while (q.front() < t - 3000) {
            q.pop();
        }
        return q.size();
    }
};
```
{% endtab %}

{% tab title="Java" %}
```java
import java.util.*;

class RecentCounter {
    Queue<Integer> queue;

    public RecentCounter() {
        queue = new LinkedList<>();
    }

    public int ping(int t) {
        queue.add(t);
        while (queue.peek() < t - 3000) {
            queue.poll();
        }
        return queue.size();
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
from collections import deque

class RecentCounter:
    def __init__(self):
        self.queue = deque()

    def ping(self, t: int) -> int:
        self.queue.append(t)
        while self.queue[0] < t - 3000:
            self.queue.popleft()
        return len(self.queue)
```
{% endtab %}
{% endtabs %}

***

## **â³ Äá»™ phá»©c táº¡p thuáº­t toÃ¡n**

| PhÆ°Æ¡ng phÃ¡p             | Thá»i gian | KhÃ´ng gian |
| ----------------------- | --------- | ---------- |
| **DÃ¹ng Queue (`O(1)`)** | `O(1)`    | `O(n)`     |

âœ… **Má»—i láº§n `ping(t)`, chá»‰ xÃ³a pháº§n tá»­ cÅ©, nhanh chÃ³ng (`O(1)`)**.\
âœ… **KhÃ´ng lÆ°u nhiá»u hÆ¡n `3000` pháº§n tá»­ trong queue (`O(n)`)**.

***

## **ğŸ“Œ Tá»•ng káº¿t**

âœ” **DÃ¹ng queue Ä‘á»ƒ lÆ°u request trong 3000 ms**.\
âœ” **Má»—i `ping()` thÃªm request vÃ  loáº¡i bá» cÃ¡i cÅ© (`O(1)`)**.\
âœ” **Giáº£i phÃ¡p nhanh, tá»‘i Æ°u vÃ  dá»… hiá»ƒu!**
