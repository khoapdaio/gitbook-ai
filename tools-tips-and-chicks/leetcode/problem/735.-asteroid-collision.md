# 735. Asteroid Collision

## â“ **Problem**

[**https://leetcode.com/problems/asteroid-collision/**](https://leetcode.com/problems/asteroid-collision/)

## **ğŸ“Œ MÃ´ táº£ bÃ i toÃ¡n**

Cho má»™t máº£ng sá»‘ nguyÃªn `asteroids`, má»—i pháº§n tá»­ Ä‘áº¡i diá»‡n cho má»™t tiá»ƒu hÃ nh tinh vá»›i:

* **GiÃ¡ trá»‹ tuyá»‡t Ä‘á»‘i** biá»ƒu thá»‹ **kÃ­ch thÆ°á»›c** cá»§a tiá»ƒu hÃ nh tinh.
* **Dáº¥u dÆ°Æ¡ng (+)**: Tiá»ƒu hÃ nh tinh **Ä‘ang di chuyá»ƒn sang pháº£i**.
* **Dáº¥u Ã¢m (-)**: Tiá»ƒu hÃ nh tinh **Ä‘ang di chuyá»ƒn sang trÃ¡i**.

ğŸ“Œ **Khi hai tiá»ƒu hÃ nh tinh Ä‘á»¥ng nhau:**

1. Náº¿u **cÃ¹ng chiá»u**, cáº£ hai tiáº¿p tá»¥c di chuyá»ƒn.
2. Náº¿u **ngÆ°á»£c chiá»u**, xáº£y ra va cháº¡m:
   * Tiá»ƒu hÃ nh tinh nhá» hÆ¡n bá»‹ phÃ¡ há»§y.
   * Náº¿u báº±ng nhau, cáº£ hai bá»‹ phÃ¡ há»§y.
   * Náº¿u khÃ´ng, tiá»ƒu hÃ nh tinh lá»›n hÆ¡n tiáº¿p tá»¥c di chuyá»ƒn.

ğŸ“Œ **Nhiá»‡m vá»¥:**\
ğŸ‘‰ Tráº£ vá» **máº£ng tráº¡ng thÃ¡i cuá»‘i cÃ¹ng** sau khi táº¥t cáº£ va cháº¡m xáº£y ra.

***

## **ğŸ’¡ VÃ­ dá»¥**

#### âœ… **VÃ­ dá»¥ 1**

```
Input: asteroids = [5, 10, -5]
Output: [5, 10]
```

**Giáº£i thÃ­ch:**

* `10` gáº·p `-5` â†’ `10` lá»›n hÆ¡n nÃªn **`-5` bá»‹ phÃ¡ há»§y**.
* KhÃ´ng cÃ²n va cháº¡m nÃ o khÃ¡c.
* Output: `[5, 10]`.

***

#### âœ… **VÃ­ dá»¥ 2**

```
Input: asteroids = [8, -8]
Output: []
```

**Giáº£i thÃ­ch:**

* `8` gáº·p `-8` â†’ **cáº£ hai bá»‹ phÃ¡ há»§y** (vÃ¬ kÃ­ch thÆ°á»›c báº±ng nhau).
* Output: `[]`.

***

#### âœ… **VÃ­ dá»¥ 3**

```
Input: asteroids = [10, 2, -5]
Output: [10]
```

**Giáº£i thÃ­ch:**

* `2` gáº·p `-5` â†’ `2` bá»‹ phÃ¡ há»§y.
* `10` gáº·p `-5` â†’ `10` lá»›n hÆ¡n nÃªn **`-5` bá»‹ phÃ¡ há»§y**.
* Output: `[10]`.

***

## **ğŸš€ Giáº£i phÃ¡p: DÃ¹ng Stack (`O(n)`)**

#### ğŸ“Œ **Ã tÆ°á»Ÿng chÃ­nh:**

* **Duyá»‡t tá»«ng tiá»ƒu hÃ nh tinh**, xá»­ lÃ½ theo quy táº¯c sau:
  1. **Náº¿u Ä‘ang di chuyá»ƒn sang pháº£i (`+`), Ä‘áº©y vÃ o stack**.
  2. **Náº¿u di chuyá»ƒn sang trÃ¡i (`-`), kiá»ƒm tra stack**:
     * Náº¿u Ä‘á»‰nh stack lÃ  sá»‘ dÆ°Æ¡ng â†’ cÃ³ va cháº¡m.
     * So sÃ¡nh kÃ­ch thÆ°á»›c, loáº¡i bá» sá»‘ nhá» hÆ¡n.
     * Náº¿u báº±ng nhau, loáº¡i bá» cáº£ hai.
     * Náº¿u lá»›n hÆ¡n, giá»¯ láº¡i.
  3. **Náº¿u stack trá»‘ng hoáº·c Ä‘á»‰nh lÃ  sá»‘ Ã¢m, Ä‘áº©y vÃ o stack**.

***

## **ğŸ“œ Code**

{% tabs %}
{% tab title="C++" %}
```cpp
class Solution {
public:
    vector<int> asteroidCollision(vector<int>& asteroids) {
        stack<int> stack;

        for (int ast : asteroids) {
            bool destroyed = false;
            while (!stack.empty() && ast < 0 && stack.top() > 0) {
                if (stack.top() < -ast) {
                    stack.pop();
                    continue;
                } else if (stack.top() == -ast) {
                    stack.pop();
                }
                destroyed = true;
                break;
            }
            if (!destroyed) stack.push(ast);
        }

        return vector<int>(stack.begin(), stack.end());
    }
};
```
{% endtab %}

{% tab title="Java" %}
```java
class Solution {
    public int[] asteroidCollision(int[] asteroids) {
        Stack<Integer> stack = new Stack<>();
        
        for (int ast : asteroids) {
            boolean destroyed = false;
            while (!stack.isEmpty() && ast < 0 && stack.peek() > 0) {
                if (stack.peek() < -ast) {
                    stack.pop(); // Stack nhá» hÆ¡n, bá»‹ phÃ¡ há»§y
                    continue;
                } else if (stack.peek() == -ast) {
                    stack.pop(); // Cáº£ hai bá»‹ phÃ¡ há»§y
                }
                destroyed = true;
                break;
            }
            if (!destroyed) stack.push(ast);
        }
        
        return stack.stream().mapToInt(i -> i).toArray();
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
class Solution:
    def asteroidCollision(self, asteroids: List[int]) -> List[int]:
        stack = []

        for ast in asteroids:
            while stack and ast < 0 and stack[-1] > 0:
                if stack[-1] < -ast:
                    stack.pop()
                    continue
                elif stack[-1] == -ast:
                    stack.pop()
                break
            else:
                stack.append(ast)
        
        return stack
```
{% endtab %}
{% endtabs %}

***

## **â³ Äá»™ phá»©c táº¡p thuáº­t toÃ¡n**

| PhÆ°Æ¡ng phÃ¡p             | Thá»i gian | KhÃ´ng gian |
| ----------------------- | --------- | ---------- |
| **DÃ¹ng Stack (`O(n)`)** | `O(n)`    | `O(n)`     |

âœ… **Má»—i pháº§n tá»­ Ä‘Æ°á»£c duyá»‡t Ä‘Ãºng 1 láº§n (`O(n)`)**.\
âœ… **Má»—i pháº§n tá»­ chá»‰ vÃ o hoáº·c ra khá»i stack tá»‘i Ä‘a 1 láº§n (`O(1)` push/pop)**.

***

## **ğŸ“Œ Tá»•ng káº¿t**

âœ” **DÃ¹ng stack Ä‘á»ƒ kiá»ƒm tra va cháº¡m**.\
âœ” **Duyá»‡t tá»«ng tiá»ƒu hÃ nh tinh, xá»­ lÃ½ va cháº¡m ngÆ°á»£c chiá»u (`+` vs `-`)**.\
âœ” **Thá»i gian `O(n)`, tá»‘i Æ°u hÆ¡n `O(nÂ²)`.**
