# 443. String Compression

## Problem

[https://leetcode.com/problems/string-compression](https://leetcode.com/problems/string-compression)

## **M√¥ t·∫£**

Cho m·ªôt m·∫£ng k√Ω t·ª± `chars`, th·ª±c hi·ªán **n√©n chu·ªói t·∫°i ch·ªó** theo quy t·∫Øc sau:

* N·∫øu m·ªôt k√Ω t·ª± xu·∫•t hi·ªán li√™n ti·∫øp nhi·ªÅu l·∫ßn, thay th·∫ø n√≥ b·∫±ng k√Ω t·ª± ƒë√≥ + s·ªë l·∫ßn xu·∫•t hi·ªán.
* N·∫øu k√Ω t·ª± ch·ªâ xu·∫•t hi·ªán 1 l·∫ßn, gi·ªØ nguy√™n n√≥.
* Chu·ªói k·∫øt qu·∫£ ph·∫£i ƒë∆∞·ª£c l∆∞u l·∫°i trong `chars` v√† kh√¥ng ƒë∆∞·ª£c d√πng m·∫£ng ph·ª• l·ªõn.
* Tr·∫£ v·ªÅ ƒë·ªô d√†i m·ªõi c·ªßa m·∫£ng `chars` sau khi n√©n.

## **V√≠ d·ª•**

**‚úÖ V√≠ d·ª• 1**

```
Input: chars = ["a","a","b","b","c","c","c"]
Output: 6
Modified chars = ["a","2","b","2","c","3"]
```

**‚úÖ V√≠ d·ª• 2**

```
Input: chars = ["a"]
Output: 1
Modified chars = ["a"]
```

**‚úÖ V√≠ d·ª• 3**

```
Input: chars = ["a","b","b","b","b","b","b","b","b","b","b","b"]
Output: 4
Modified chars = ["a","b","1","1"]
```

## **Gi·∫£i ph√°p: D√πng con tr·ªè hai chi·ªÅu**

üìå **√ù t∆∞·ªüng:**

1. **D√πng con tr·ªè `write`** ƒë·ªÉ ghi v√†o `chars`.
2. **Duy·ªát `chars` b·∫±ng con tr·ªè `read`**:
   * Ghi k√Ω t·ª± v√†o `chars[write]`.
   * N·∫øu c√≥ nhi·ªÅu k√Ω t·ª± gi·ªëng nhau, ghi s·ªë l·∫ßn xu·∫•t hi·ªán b·∫±ng c√°c ch·ªØ s·ªë (`'12'` th√†nh `'1', '2'`).
   * Di chuy·ªÉn `write` ƒë·ªÉ c·∫≠p nh·∫≠t v·ªã tr√≠ ghi m·ªõi.

***

## **ƒêi·ªÉm ch√≠nh**

‚úÖ **Kh√¥ng c·∫ßn d√πng m·∫£ng ph·ª• l·ªõn** ‚Üí ch·ªâ s·ª≠ d·ª•ng `O(1)` b·ªô nh·ªõ.\
‚úÖ **Duy·ªát `O(n)`, kh√¥ng c√≥ v√≤ng l·∫∑p l·ªìng nhau**.

## Code

{% tabs %}
{% tab title="C++" %}
```cpp
class Solution {
public:
    int compress(vector<char>& chars) {
        int write = 0, read = 0, n = chars.size();

        while (read < n) {
            char currentChar = chars[read];
            int count = 0;

            while (read < n && chars[read] == currentChar) {
                read++;
                count++;
            }

            chars[write++] = currentChar;

            if (count > 1) {
                for (char c : to_string(count)) {
                    chars[write++] = c;
                }
            }
        }

        return write;
    }
};
```


{% endtab %}

{% tab title="Java" %}
```java
class Solution {
    public int compress(char[] chars) {
        int write = 0, read = 0, n = chars.length;

        while (read < n) {
            char currentChar = chars[read];
            int count = 0;

            // ƒê·∫øm s·ªë l·∫ßn xu·∫•t hi·ªán c·ªßa currentChar
            while (read < n && chars[read] == currentChar) {
                read++;
                count++;
            }

            // Ghi k√Ω t·ª± v√†o m·∫£ng
            chars[write++] = currentChar;

            // Ghi s·ªë l·∫ßn xu·∫•t hi·ªán n·∫øu count > 1
            if (count > 1) {
                for (char c : String.valueOf(count).toCharArray()) {
                    chars[write++] = c;
                }
            }
        }

        return write;
    }
}

```


{% endtab %}

{% tab title="Python" %}
```python
class Solution:
    def compress(self, chars: List[str]) -> int:
        write, read = 0, 0
        n = len(chars)

        while read < n:
            currentChar = chars[read]
            count = 0

            while read < n and chars[read] == currentChar:
                read += 1
                count += 1

            chars[write] = currentChar
            write += 1

            if count > 1:
                for c in str(count):
                    chars[write] = c
                    write += 1

        return write

```
{% endtab %}
{% endtabs %}

