# 2352. Equal Row and Column Pairs

## Problem

[https://leetcode.com/problems/equal-row-and-column-pairs/](https://leetcode.com/problems/equal-row-and-column-pairs/)

***

## **ğŸ“Œ MÃ´ táº£ bÃ i toÃ¡n**

Cho má»™t ma tráº­n **hÃ¬nh vuÃ´ng** `grid` kÃ­ch thÆ°á»›c `n x n`, tÃ¬m sá»‘ lÆ°á»£ng cáº·p `(r, c)` sao cho:

* **HÃ ng `r`** cá»§a ma tráº­n **báº±ng Ä‘Ãºng** **cá»™t `c`** cá»§a ma tráº­n.

ğŸ”¹ **Tráº£ vá» sá»‘ lÆ°á»£ng cáº·p thá»a mÃ£n.**

***

## **ğŸ’¡ VÃ­ dá»¥**

**âœ… VÃ­ dá»¥ 1**

```
Input: grid = [[3,2,1],
               [1,7,6],
               [2,7,7]]

Output: 1
```

**Giáº£i thÃ­ch:**

* HÃ ng `0`: `[3,2,1]` khÃ´ng khá»›p vá»›i báº¥t ká»³ cá»™t nÃ o.
* HÃ ng `1`: `[1,7,6]` khÃ´ng khá»›p vá»›i báº¥t ká»³ cá»™t nÃ o.
* HÃ ng `2`: `[2,7,7]` **trÃ¹ng vá»›i Cá»™t `1`** (`[2,7,7]`).
* â†’ **CÃ³ 1 cáº·p (`r=2`, `c=1`) â†’ Output: `1`**.

***

**âœ… VÃ­ dá»¥ 2**

```
Input: grid = [[3,1,2,2],
               [1,4,4,5],
               [2,4,2,2],
               [2,4,2,2]]

Output: 3
```

**Giáº£i thÃ­ch:**

* Cáº·p `(2,2)`, `(3,2)`, `(3,3)` lÃ  cÃ¡c cáº·p há»£p lá»‡.
* â†’ **Output: `3`**.

***

## **ğŸš€ Giáº£i phÃ¡p 1: DÃ¹ng HashMap (`O(nÂ²)`)**

ğŸ“Œ **Ã tÆ°á»Ÿng chÃ­nh:**

* **Má»—i hÃ ng cá»§a `grid` lÃ  má»™t danh sÃ¡ch sá»‘ nguyÃªn.**
* **Má»—i cá»™t cá»§a `grid` cÅ©ng lÃ  má»™t danh sÃ¡ch sá»‘ nguyÃªn.**
* Náº¿u má»™t hÃ ng **giá»‘ng y há»‡t má»™t cá»™t**, ta cÃ³ má»™t cáº·p `(r, c)`.
* **DÃ¹ng HashMap Ä‘á»ƒ Ä‘áº¿m sá»‘ láº§n xuáº¥t hiá»‡n cá»§a cÃ¡c hÃ ng**, sau Ä‘Ã³ **so sÃ¡nh vá»›i cÃ¡c cá»™t**.

ğŸ”¹ **BÆ°á»›c thá»±c hiá»‡n:**

1. **Duyá»‡t qua tá»«ng hÃ ng `grid[i]`, lÆ°u vÃ o HashMap `row_count`**.
2. **Duyá»‡t qua tá»«ng cá»™t `grid[:, j]`, kiá»ƒm tra xem cÃ³ tá»“n táº¡i trong `row_count` khÃ´ng**.
3. **TÃ­nh tá»•ng sá»‘ láº§n xuáº¥t hiá»‡n cá»§a cÃ¡c cáº·p `(r, c)`.**

***

## **ğŸ“œ Code**

{% tabs %}
{% tab title="C++" %}
```cpp
class Solution {
public:
    int equalPairs(vector<vector<int>>& grid) {
        int n = grid.size();
        map<vector<int>, int> rowCount;
        int count = 0;

        // LÆ°u hÃ ng vÃ o HashMap
        for (auto& row : grid) {
            rowCount[row]++;
        }

        // Kiá»ƒm tra tá»«ng cá»™t
        for (int c = 0; c < n; c++) {
            vector<int> col(n);
            for (int r = 0; r < n; r++) {
                col[r] = grid[r][c];
            }
            count += rowCount[col];
        }

        return count;
    }
};
```
{% endtab %}

{% tab title="Java" %}
```java
class Solution {
    public int equalPairs(int[][] grid) {
        int n = grid.length;
        Map<String, Integer> rowCount = new HashMap<>();
        int count = 0;

        // LÆ°u hÃ ng vÃ o HashMap
        for (int[] row : grid) {
            String key = Arrays.toString(row);
            rowCount.put(key, rowCount.getOrDefault(key, 0) + 1);
        }

        // Kiá»ƒm tra tá»«ng cá»™t
        for (int c = 0; c < n; c++) {
            int[] col = new int[n];
            for (int r = 0; r < n; r++) {
                col[r] = grid[r][c];
            }
            String key = Arrays.toString(col);
            count += rowCount.getOrDefault(key, 0);
        }

        return count;
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
class Solution:
    def equalPairs(self, grid: List[List[int]]) -> int:
        from collections import Counter
        
        n = len(grid)
        rowCount = Counter(tuple(row) for row in grid)
        count = 0

        for col in zip(*grid):  # Láº¥y tá»«ng cá»™t báº±ng cÃ¡ch unzip
            count += rowCount[col]
        
        return count
```
{% endtab %}
{% endtabs %}

***

## **â³ Äá»™ phá»©c táº¡p thuáº­t toÃ¡n**

| PhÆ°Æ¡ng phÃ¡p                | Thá»i gian | KhÃ´ng gian |
| -------------------------- | --------- | ---------- |
| **DÃ¹ng HashMap (`O(nÂ²)`)** | `O(nÂ²)`   | `O(nÂ²)`    |

âœ… **Duyá»‡t `grid` Ä‘á»ƒ táº¡o HashMap (`O(nÂ²)`)**.\
âœ… **Duyá»‡t `grid` Ä‘á»ƒ kiá»ƒm tra cá»™t (`O(nÂ²)`)**.\
âœ… **HashMap tra cá»©u trong `O(1)`, giÃºp tá»‘i Æ°u so vá»›i `O(nÂ³)`.**

***

### **ğŸ“Œ Tá»•ng káº¿t**

âœ” **DÃ¹ng HashMap (`Counter`) Ä‘á»ƒ Ä‘áº¿m sá»‘ hÃ ng giá»‘ng nhau**.\
âœ” **DÃ¹ng HashMap Ä‘á»ƒ so sÃ¡nh vá»›i cÃ¡c cá»™t, kiá»ƒm tra sá»‘ láº§n xuáº¥t hiá»‡n**.\
âœ” **Thá»i gian `O(nÂ²)`, tá»‘i Æ°u hÆ¡n `O(nÂ³)`.**

