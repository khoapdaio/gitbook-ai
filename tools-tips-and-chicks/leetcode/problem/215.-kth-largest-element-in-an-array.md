# 215. Kth Largest Element in an Array

## **‚ùì Problem:**

üîó [LeetCode 215 - Kth Largest Element in an Array](https://leetcode.com/problems/kth-largest-element-in-an-array)

***

## **üìù M√¥ t·∫£:**

Cho m·ªôt m·∫£ng s·ªë nguy√™n `nums` v√† m·ªôt s·ªë `k`, h√£y t√¨m ph·∫ßn t·ª≠ l·ªõn th·ª© `k` trong m·∫£ng.

***

## **üí° V√≠ d·ª•:**

#### ‚úÖ **V√≠ d·ª• 1:**

**Input:**

```
nums = [3,2,1,5,6,4], k = 2
```

**Output:** `5`

***

#### ‚úÖ **V√≠ d·ª• 2:**

**Input:**

```
nums = [3,2,3,1,2,4,5,5,6], k = 4
```

**Output:** `4`

***

## **üöÄ Gi·∫£i ph√°p**

### **1Ô∏è‚É£ D√πng Min-Heap (Priority Queue) - O(n log k)**

üí° **√ù t∆∞·ªüng:**

* D√πng **min-heap** c√≥ k√≠ch th∆∞·ªõc `k` ƒë·ªÉ l∆∞u `k` ph·∫ßn t·ª≠ l·ªõn nh·∫•t.
* N·∫øu heap c√≥ nhi·ªÅu h∆°n `k` ph·∫ßn t·ª≠, ta lo·∫°i b·ªè ph·∫ßn t·ª≠ nh·ªè nh·∫•t.
* Ph·∫ßn t·ª≠ nh·ªè nh·∫•t trong heap ch√≠nh l√† **ph·∫ßn t·ª≠ l·ªõn th·ª© `k` trong m·∫£ng**.

***

### **üìú**Code **Min-Heap (Priority Queue)**&#x20;

{% tabs %}
{% tab title="C++" %}
```cpp
#include <queue>
#include <vector>

class Solution {
public:
    int findKthLargest(std::vector<int>& nums, int k) {
        std::priority_queue<int, std::vector<int>, std::greater<int>> minHeap;
        
        for (int num : nums) {
            minHeap.push(num);
            if (minHeap.size() > k) {
                minHeap.pop();
            }
        }
        
        return minHeap.top();
    }
};
```
{% endtab %}

{% tab title="Java" %}
```java
import java.util.PriorityQueue;

class Solution {
    public int findKthLargest(int[] nums, int k) {
        PriorityQueue<Integer> minHeap = new PriorityQueue<>();
        for (int num : nums) {
            minHeap.add(num);
            if (minHeap.size() > k) {
                minHeap.poll();
            }
        }
        return minHeap.peek();
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
import heapq

class Solution:
    def findKthLargest(self, nums: List[int], k: int) -> int:
        min_heap = []
        for num in nums:
            heapq.heappush(min_heap, num)
            if len(min_heap) > k:
                heapq.heappop(min_heap)
        return min_heap[0]
```
{% endtab %}
{% endtabs %}

***

### **2Ô∏è‚É£ D√πng QuickSelect (Hoare's Selection) - O(n) trung b√¨nh**

üí° **√ù t∆∞·ªüng:**

* QuickSelect d·ª±a tr√™n **QuickSort**, nh∆∞ng thay v√¨ s·∫Øp x·∫øp to√†n b·ªô m·∫£ng, ta ch·ªâ quan t√¢m ƒë·∫øn `k` ph·∫ßn t·ª≠ l·ªõn nh·∫•t.
* Ch·ªçn m·ªôt `pivot`, ph√¢n chia m·∫£ng th√†nh hai ph·∫ßn **(l·ªõn h∆°n pivot v√† nh·ªè h∆°n pivot)**.
* N·∫øu pivot ƒë·ª©ng ·ªü v·ªã tr√≠ `n-k`, th√¨ ƒë√≥ l√† ph·∫ßn t·ª≠ c·∫ßn t√¨m.
* N·∫øu pivot ƒë·ª©ng tr∆∞·ªõc `n-k`, ta t√¨m ti·∫øp b√™n ph·∫£i, ng∆∞·ª£c l·∫°i t√¨m b√™n tr√°i.

***

### **üìú Code  - QuickSelect**

{% tabs %}
{% tab title="C++" %}
```cpp
#include <vector>

class Solution {
public:
    int quickSelect(std::vector<int>& nums, int left, int right, int k) {
        int pivot = nums[right], p = left;
        for (int i = left; i < right; i++) {
            if (nums[i] >= pivot) {
                std::swap(nums[i], nums[p]);
                p++;
            }
        }
        std::swap(nums[p], nums[right]);
        
        if (p == k) return nums[p];
        if (p > k) return quickSelect(nums, left, p - 1, k);
        return quickSelect(nums, p + 1, right, k);
    }

    int findKthLargest(std::vector<int>& nums, int k) {
        return quickSelect(nums, 0, nums.size() - 1, k - 1);
    }
};
```
{% endtab %}

{% tab title="Java" %}
```java
import java.util.Random;

class Solution {
    private int quickSelect(int[] nums, int left, int right, int k) {
        int pivot = nums[right], p = left;
        for (int i = left; i < right; i++) {
            if (nums[i] >= pivot) {
                int temp = nums[i];
                nums[i] = nums[p];
                nums[p] = temp;
                p++;
            }
        }
        int temp = nums[p];
        nums[p] = nums[right];
        nums[right] = temp;
        
        if (p == k) return nums[p];
        if (p > k) return quickSelect(nums, left, p - 1, k);
        return quickSelect(nums, p + 1, right, k);
    }

    public int findKthLargest(int[] nums, int k) {
        return quickSelect(nums, 0, nums.length - 1, k - 1);
    }
}
```
{% endtab %}

{% tab title="Python" %}
```python
import random

class Solution:
    def findKthLargest(self, nums: List[int], k: int) -> int:
        def quickselect(left, right, k):
            pivot = nums[right]
            p = left
            for i in range(left, right):
                if nums[i] >= pivot:
                    nums[i], nums[p] = nums[p], nums[i]
                    p += 1
            nums[p], nums[right] = nums[right], nums[p]
            
            if p == k:
                return nums[p]
            elif p > k:
                return quickselect(left, p - 1, k)
            else:
                return quickselect(p + 1, right, k)
        
        return quickselect(0, len(nums) - 1, k - 1)
```
{% endtab %}
{% endtabs %}

***

## **üéØ ƒêi·ªÉm ch√≠nh**

‚úî **Min-Heap**: Gi·ªØ `k` ph·∫ßn t·ª≠ l·ªõn nh·∫•t, ph·∫ßn t·ª≠ nh·ªè nh·∫•t l√† k·∫øt qu·∫£.\
‚úî **QuickSelect**: T·ªëi ∆∞u h∆°n, kh√¥ng c·∫ßn s·∫Øp x·∫øp to√†n b·ªô m·∫£ng, hi·ªáu su·∫•t trung b√¨nh **O(n)**.\
‚úî **C√≥ th·ªÉ s·ª≠ d·ª•ng sort n·∫øu kh√¥ng quan t√¢m hi·ªáu su·∫•t (`O(n log n)`).**

***

## **‚è≥ ƒê·ªô ph·ª©c t·∫°p thu·∫≠t to√°n**

| Ph∆∞∆°ng ph√°p     | Th·ªùi gian trung b√¨nh | Th·ªùi gian t·ªá nh·∫•t                             | Kh√¥ng gian |
| --------------- | -------------------- | --------------------------------------------- | ---------- |
| **Min-Heap**    | `O(n log k)`         | `O(n log k)`                                  | `O(k)`     |
| **QuickSelect** | `O(n)`               | `O(n^2)` (c√≥ th·ªÉ tr√°nh b·∫±ng pivot ng·∫´u nhi√™n) | `O(1)`     |

üöÄ **QuickSelect t·ªët h∆°n khi c·∫ßn t√¨m ph·∫ßn t·ª≠ l·ªõn `k` trong m·∫£ng r·∫•t l·ªõn.**

***

## **üìå T·ªïng k·∫øt**

* ‚úÖ **D√πng Min-Heap n·∫øu mu·ªën code d·ªÖ hi·ªÉu v√† ch·∫Øc ch·∫Øn ch·∫°y nhanh (`O(n log k)`).**
* ‚úÖ **D√πng QuickSelect ƒë·ªÉ t·ªëi ∆∞u (`O(n)`) cho tr∆∞·ªùng h·ª£p d·ªØ li·ªáu l·ªõn.**
* ‚úÖ **Sort n·∫øu kh√¥ng quan t√¢m ƒë·∫øn t·ªëi ∆∞u (`O(n log n)`).**
